(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,n){e.exports=n(52)},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(16),c=n.n(i),o=(n(38),n(17)),l=n(7),d=n(18),s=n(19),u=n(25),m=(n(39),n(2)),g=(n(40),function(e){return r.a.createElement("div",{className:"menu-item",title:e.bridge.name,onClick:e.onClick},e.bridge.nameEncoded)}),h=n(28),f=n(68),b=n(71),p=n(30),E=n.n(p);function v(e){var t=Object(f.a)(function(e){return{search:{position:"relative",width:"100%"},searchIcon:{width:e.spacing(4),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,1,1,4),width:"100%"}}})();return r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(E.a,null)),r.a.createElement(b.a,{onChange:e.selectBridge,placeholder:"Name a bridge...",classes:{root:t.inputRoot,input:t.inputInput}}))}var j=n(70),y=Object(f.a)(function(e){return{bridgeLoader:{position:"relative","margin-top":"50%"},bridgeMenu:{"text-align":"center"}}}),O=function(){var e=y();return r.a.createElement("div",{className:e.bridgeMenu},r.a.createElement(j.a,{className:e.bridgeLoader}))},w=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(d.a)(this,Object(s.a)(t).call(this,e))).state={loading:!1,errored:!1,bridges:[],filteredBridges:[]},n.handleBridgeSearch=n.handleBridgeSearch.bind(Object(m.a)(n)),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),fetch("https://api.myjson.com/bins/17fpo0").then(function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}).then(function(e){return e.forEach(function(e){e.name=e.name.toUpperCase(),e.nameEncoded=Object(h.encode)(e.name)}),e}).then(function(t){return e.setState({loading:!1,bridges:t,filteredBridges:t,error:""})}).catch(function(t){console.error("Unable to load bridge data",t.message),e.setState({errored:!0,message:t.message})})}},{key:"handleBridgeSearch",value:function(e){if(!e.target.value)return this.setState({filteredBridges:this.state.bridges});var t=e.target.value.toUpperCase();return this.setState({filteredBridges:this.state.bridges.filter(function(e){return e.name.includes(t)})})}},{key:"render",value:function(){var e=this;return this.state.errored?"Unable to load bridge data":this.state.loading?r.a.createElement(O,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{selectBridge:this.handleBridgeSearch}),this.state.filteredBridges.length?this.state.filteredBridges.map(function(t){return r.a.createElement(g,{key:t.id,bridge:t,onClick:function(){return e.props.onChange(t)}})}):"Not found!")}}]),t}(r.a.Component),B=n(72),C=n(73),k=n(74);n(49),n(50);function S(){return r.a.createElement(B.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'})}function N(){var e={coords:[51.2538,-85.3232],zoom:5};return r.a.createElement(C.a,{className:"full-height",center:e.coords,zoom:e.zoom},r.a.createElement(S,null))}var x=function(e){var t=e.bridge;if(!t)return r.a.createElement(N,null);var n=[t.lat,t.lng];return r.a.createElement(C.a,{className:"full-height",center:n,zoom:14},r.a.createElement(S,null),r.a.createElement(k.a,{position:n},t.nameEncoded))};n(51);function z(e){var t=e.bridge,n=(new Date).getFullYear()-t.year;return r.a.createElement("div",{id:"info-panel"},r.a.createElement("h2",null,t.nameEncoded),r.a.createElement("div",{className:"bridge-stats"},r.a.createElement("div",null,"Year: ",t.year," (",n," years)"),r.a.createElement("div",null,"Width: ",t.width,"m"),r.a.createElement("div",null,"Length: ",t.length,"m")))}var I=function(e){var t=e.bridge?r.a.createElement(z,{bridge:e.bridge}):null;return r.a.createElement("div",{id:"bridge-info-wrapper"},t,r.a.createElement("div",{id:"leaflet-map"},r.a.createElement(x,{bridge:e.bridge})))},M=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(d.a)(this,Object(s.a)(t).call(this,e))).state={bridge:null},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleBridgeChange",value:function(e){this.setState({bridge:e})}},{key:"render",value:function(){return r.a.createElement("div",{id:"app"},r.a.createElement("nav",{id:"menu"},r.a.createElement(w,{onChange:this.handleBridgeChange.bind(this)})),r.a.createElement("div",{id:"bridge-info"},r.a.createElement(I,{bridge:this.state.bridge})))}}]),t}(r.a.Component);c.a.render(r.a.createElement(M,null),document.querySelector("#root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.b41353c4.chunk.js.map